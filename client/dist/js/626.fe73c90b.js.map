{"version":3,"file":"js/626.fe73c90b.js","mappings":"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","sources":["webpack://client/./src/views/UserInfo.vue?365f","webpack://client/src/views/UserInfo.vue","webpack://client/./src/views/UserInfo.vue?a924","webpack://client/./src/views/UserInfo.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"UserInfo\"}},[(_vm.userInfo._id === '')?_c('article',{staticClass:\"notLogin\"},[_c('h2',[_vm._v(\"温馨提示\")]),_c('p',[_vm._v(\"您暂时还未登录,请登录后再尝试!!! \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"点击返回首页\")])],1)]):_c('article',{staticClass:\"setting\"},[_c('el-tabs',{staticStyle:{\"min-height\":\"200px\"},attrs:{\"tab-position\":\"left\"}},[_c('el-tab-pane',{attrs:{\"label\":\"账户信息\"}},[_c('div',{staticClass:\"userTx\"},[_c('span',[_vm._v(\"用户头像\")]),_c('div',{staticClass:\"img\",style:({\n          backgroundImage: (\"url(\" + _vm.urlBase + (_vm.userInfo.tx) + \")\")\n          })})]),_c('el-descriptions',{attrs:{\"column\":1,\"labelStyle\":_vm.labelStyle,\"contentStyle\":_vm.labelStyle}},[_c('el-descriptions-item',{attrs:{\"label\":\"用户名\"}},[_vm._v(_vm._s(_vm.userInfo.username))]),_c('el-descriptions-item',{attrs:{\"label\":\"邮箱\"}},[_vm._v(_vm._s(_vm.userInfo.email === undefined ? '暂时还未绑定邮箱' : _vm.userInfo.email)+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"注册时间\"}},[_vm._v(_vm._s(_vm._f(\"fmtTime\")(_vm.userInfo.regTime)))])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"更改头像\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"name\":\"avatar\",\"action\":_vm.urlBase+'/upload/tx',\"show-file-list\":false,\"with-credentials\":true,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-tab-pane',{attrs:{\"label\":\"更改用户名\"}},[_c('el-form',{ref:\"nameForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.nameForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('p',{staticClass:\"username\"},[_vm._v(\"用户名: \"),_c('span',[_vm._v(_vm._s(_vm.userInfo.username))])]),_c('el-form-item',{attrs:{\"label\":\"新用户名\",\"prop\":\"newName\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.nameForm.newName),callback:function ($$v) {_vm.$set(_vm.nameForm, \"newName\", $$v)},expression:\"nameForm.newName\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitName('nameForm')}}},[_vm._v(\"提交\")])],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"更改密码\"}},[_c('el-form',{ref:\"passForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.passForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"旧密码\",\"prop\":\"oldPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.passForm.oldPass),callback:function ($$v) {_vm.$set(_vm.passForm, \"oldPass\", $$v)},expression:\"passForm.oldPass\"}})],1),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"newPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.passForm.newPass),callback:function ($$v) {_vm.$set(_vm.passForm, \"newPass\", $$v)},expression:\"passForm.newPass\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"newPass2\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.passForm.newPass2),callback:function ($$v) {_vm.$set(_vm.passForm, \"newPass2\", $$v)},expression:\"passForm.newPass2\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitPass('passForm')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetPass('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"UserInfo\">\r\n    <article class=\"notLogin\" v-if=\"userInfo._id === ''\">\r\n      <h2>温馨提示</h2>\r\n      <p>您暂时还未登录,请登录后再尝试!!!\r\n        <router-link to=\"/\">点击返回首页</router-link>\r\n      </p>\r\n    </article>\r\n    <article v-else class=\"setting\">\r\n      <el-tabs tab-position=\"left\" style=\"min-height: 200px\">\r\n        <el-tab-pane label=\"账户信息\">\r\n          <div class=\"userTx\">\r\n            <span>用户头像</span>\r\n            <div class=\"img\"\r\n                 :style=\"{\r\n            backgroundImage: `url(${urlBase}${userInfo.tx})`\r\n            }\"\r\n            ></div>\r\n          </div>\r\n          <el-descriptions :column=\"1\" :labelStyle=\"labelStyle\" :contentStyle=\"labelStyle\">\r\n            <el-descriptions-item label=\"用户名\">{{ userInfo.username }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"邮箱\">{{ userInfo.email === undefined ? '暂时还未绑定邮箱' : userInfo.email }}\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"注册时间\">{{ userInfo.regTime | fmtTime }}</el-descriptions-item>\r\n          </el-descriptions>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"更改头像\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            name=\"avatar\"\r\n            :action=\"urlBase+'/upload/tx'\"\r\n            :show-file-list=\"false\"\r\n            :with-credentials=\"true\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\">\r\n            <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"更改用户名\">\r\n          <el-form :model=\"nameForm\" status-icon :rules=\"rules\" ref=\"nameForm\" label-width=\"100px\"\r\n                   class=\"demo-ruleForm\">\r\n            <p class=\"username\">用户名: <span>{{ userInfo.username }}</span></p>\r\n            <el-form-item label=\"新用户名\" prop=\"newName\">\r\n              <el-input type=\"text\" v-model=\"nameForm.newName\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"submitName('nameForm')\">提交</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"更改密码\">\r\n          <el-form :model=\"passForm\" status-icon :rules=\"rules\" ref=\"passForm\" label-width=\"100px\"\r\n                   class=\"demo-ruleForm\">\r\n            <el-form-item label=\"旧密码\" prop=\"oldPass\">\r\n              <el-input type=\"password\" v-model=\"passForm.oldPass\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"新密码\" prop=\"newPass\">\r\n              <el-input type=\"password\" v-model=\"passForm.newPass\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"确认密码\" prop=\"newPass2\">\r\n              <el-input type=\"password\" v-model=\"passForm.newPass2\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"submitPass('passForm')\">提交</el-button>\r\n              <el-button @click=\"resetPass('ruleForm')\">重置</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations, mapState} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"UserInfo\",\r\n  computed: {\r\n    ...mapState(['userInfo'])\r\n  },\r\n  data() {\r\n    return {\r\n      urlBase: process.env.NODE_ENV === \"development\" ? \"http://localhost:3000\" : \"\",\r\n      labelStyle: {\r\n        \"font-size\": '18px',\r\n        \"margin-bottom\": '10px'\r\n      },\r\n      //改密码\r\n      passForm: {\r\n        oldPass: \"\",\r\n        newPass: \"\",\r\n        newPass2: \"\",\r\n      },\r\n      nameForm: {\r\n        newName: \"\"\r\n      },\r\n      imageUrl: '',\r\n      rules: {\r\n        /*用户名规则*/\r\n        username: [{\r\n          validator(rule, value, callback) {\r\n            if (/^[\\w\\u4e00-\\u9fa5]{2,8}$/.test(value)) {\r\n              callback()\r\n            } else {\r\n              callback(new Error(\"用户名不满足规则\"))\r\n            }\r\n          },\r\n          required: true,\r\n          trigger: \"blur\"\r\n        }],\r\n        /*密码规则*/\r\n        newPass: [{\r\n          validator(rule, value, callback) {\r\n            if (/^[\\w\\[\\]\\/\\\\\\-!@#$%^&*()+=|,.<>?:;\"'{}]{6,18}$/.test(value)) {\r\n              callback()\r\n            } else {\r\n              callback(new Error(\"密码不满足规则\"))\r\n            }\r\n          },\r\n          required: true,\r\n          trigger: \"blur\"\r\n        }],\r\n\r\n        /*再次输入密码规则*/\r\n        newPass2: [{\r\n          validator: (rule, value, callback) => {\r\n            if (value === this.passForm.newPass) {\r\n              callback()\r\n            } else {\r\n              callback(\"两次输入密码不一致\")\r\n            }\r\n          },\r\n          required: true,\r\n          trigger: \"blur\"\r\n        }],\r\n        /*密码规则*/\r\n        oldPass: [{\r\n          validator(rule, value, callback) {\r\n            if (/^[\\w\\[\\]\\/\\\\\\-!@#$%^&*()+=|,.<>?:;\"'{}]{6,18}$/.test(value)) {\r\n              callback()\r\n            } else {\r\n              callback(new Error(\"密码不满足规则\"))\r\n            }\r\n          },\r\n          required: true,\r\n          trigger: \"blur\"\r\n        }],\r\n\r\n      }\r\n\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations(['logout']),\r\n\r\n    //改密码\r\n    submitPass(formName) {\r\n      this.$refs[formName].validate(async valid => {\r\n        if (valid) {\r\n          let {data} = await this.$axios({\r\n            method: 'post',\r\n            url: '/update/pass',\r\n            data: {\r\n              oldpassword: this.passForm.oldPass,//旧密码\r\n              newpassword: this.passForm.newPass,//新密码\r\n              _id: this.userInfo._id\r\n            }\r\n          })\r\n          console.log(data);\r\n          //成功之后登出\r\n          this.logout()\r\n        }\r\n\r\n\r\n      });\r\n    },\r\n    //改昵称\r\n    submitName(formName) {\r\n      this.$refs[formName].validate(async valid => {\r\n        if (valid) {\r\n          let {data} = await this.$axios({\r\n            method: 'post',\r\n            url: '/update/name',\r\n            data: {\r\n              newName: this.nameForm.newName\r\n            }\r\n          })\r\n          if (data.code !== 0) {\r\n            return this.$message.error(data.msg)\r\n          }\r\n\r\n          this.$message({\r\n            type: \"success\",\r\n            duration: 1000,\r\n            message: \"更新成功\",\r\n            onClose() {\r\n              window.location.reload()\r\n            }\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      });\r\n    },\r\n    //头像提交\r\n    handleAvatarSuccess(res, file) {\r\n      this.imageUrl = URL.createObjectURL(file.raw);\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"上传成功\",\r\n        duration: 1000,\r\n        onClose(){\r\n          window.location.reload()\r\n        }\r\n      })\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      //是否是图片格式\r\n      let isImage = /^image\\/(gif|jpeg|png)$/.test(file.type)\r\n      //是否小于2M\r\n      let isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isImage) {\r\n        this.$message.error('上传头像必须是jpg/png/gif图片');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 2MB!');\r\n      }\r\n      return isImage && isLt2M\r\n    },\r\n    resetPass(formName) {\r\n      this.$refs[formName].resetFields();\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n#UserInfo {\r\n\r\n  article {\r\n    background-color: #fff;\r\n    padding: 15px;\r\n    margin-bottom: 15px;\r\n\r\n    &.setting {\r\n\r\n      .userTx {\r\n        padding: 8px 25px;\r\n\r\n        span {\r\n          font-size: 20px;\r\n        }\r\n\r\n        .img {\r\n          width: 65px;\r\n          height: 65px;\r\n          border-radius: 100%;\r\n          background-size: cover;\r\n          margin-top: 15px;\r\n        }\r\n      }\r\n\r\n      .el-descriptions {\r\n        padding: 10px 25px;\r\n      }\r\n\r\n\r\n      .username {\r\n        padding: 20px 36px;\r\n\r\n        span {\r\n          padding-left: 15px;\r\n        }\r\n      }\r\n    }\r\n\r\n    &.notLogin {\r\n      h2 {\r\n        border-left: 8px solid #8ed2dc;\r\n        padding-left: 10px;\r\n      }\r\n\r\n      p {\r\n        padding: 20px;\r\n        letter-spacing: 3px;\r\n\r\n        a {\r\n          color: #c0b8b8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409EFF;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserInfo.vue?vue&type=template&id=0425af0d&scoped=true&\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserInfo.vue?vue&type=style&index=0&id=0425af0d&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0425af0d\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","userInfo","_id","staticClass","_v","staticStyle","style","backgroundImage","urlBase","labelStyle","_s","username","undefined","email","_f","regTime","handleAvatarSuccess","beforeAvatarUpload","imageUrl","ref","nameForm","rules","model","value","callback","$$v","$set","expression","on","$event","submitName","passForm","submitPass","resetPass","staticRenderFns","name","computed","data","oldPass","newPass","newPass2","newName","validator","rule","test","Error","required","trigger","methods","formName","$refs","validate","async","valid","method","url","oldpassword","newpassword","console","log","logout","code","$message","error","msg","type","duration","message","onClose","window","location","reload","res","file","URL","createObjectURL","raw","isImage","isLt2M","size","resetFields","component"],"sourceRoot":""}